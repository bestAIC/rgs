app={},$(function(){app.init()}),app.dom={$window:$(window),$body:$("body"),$document:$(document),$grid:$(".grid"),$header:$(".header"),$footer:$(".footer")},app.utils={},app.utils.isTableLand=!!(device.tablet()&&$(window).width()>$(window).height()),app.utils.isTablePort=!!(device.tablet()&&$(window).width()<$(window).height()),app.utils.isMobileLand=!!(device.mobile()&&$(window).width()>$(window).height()),app.utils.isMobilePort=!!(device.mobile()&&$(window).width()<$(window).height()),app.utils.isMobile=device.mobile(),app.init=function(){$("input[type=checkbox], input[type=radio]").idealRadioCheck(),app.initFluid(),app.newsGall(),app.masks(),app.bannerGall(),app.initAnimations(),app.info(),app.initMaps(),(app.utils.isMobile||app.utils.isTablePort)&&app.tabletSliders(),app.utils.isMobile&&app.mobSliders()},app.masks=function(){$("[data-card-mask]").mask("0000 0000 0000 0000",{clearIfNotMatch:!0}),$("[data-cvv-mask]").mask("000",{clearIfNotMatch:!0}),$("[data-date-mask]").mask("00/00",{clearIfNotMatch:!0})},app.initFluid=function(){function a(){t<1440?$("html").css({"font-size":app.dom.$window.width()/t*i+"px"}):$("html").css({"font-size":Math.min(app.dom.$window.width(),t)/t*i+"px"})}var t=1440,i=10;app.utils.isTablePort&&(t=768),app.utils.isMobile&&(t=414),a(),app.dom.$window.on("resize.Grid",a)},app.mobSliders=function(){var a=$("[data-mob-slider]");a.each(function(){new Swiper($(this)[0],{slidesPerView:1,simulateTouch:!0,breakpoints:{640:{spaceBetween:10}}})})},app.tabletSliders=function(){var a=$("[data-tablet-slider]");a.each(function(){new Swiper($(this)[0],{slidesPerView:"auto",simulateTouch:!0,breakpoints:{640:{slidesPerView:1,spaceBetween:10}}})})},app.newsGall=function(){function a(a){p?(l.removeClass("_show _1 _2 _3 _4 _5 _6").addClass("_hidden"),setTimeout(function(){p.destroy(),t(a)},500)):t(a)}function t(a){l=s.find('[data-news-gall-item="'+a+'"]').clone(),o.html(l),l.slice(0,6).each(function(a,t){$(t).addClass("_"+(a+1))}),p=new Swiper(i[0],{slidesPerView:"auto",simulateTouch:!0,nextButton:n,prevButton:e,loop:!0,breakpoints:{640:{spaceBetween:10}}}),l=o.find("[data-news-gall-item]"),p.update(!0),p.slideTo(0,0),setTimeout(function(){l.addClass("_show")},100)}var i=$("[data-news-gall]"),e=i.find("[data-news-gall-prev]"),n=i.find("[data-news-gall-next]"),o=i.find("[data-news-gall-slides]"),s=$("[data-news-content]"),l=i.find("[data-news-gall-item]"),d=$("[data-news-tab]"),p=null;d.on("click",function(){var t=$(this);t.hasClass("_active")||(d.toggleClass("_active"),a(t.data("newsTab")))}),a("promo")},app.bannerGall=function(){var a=$("[ data-banner-gall]"),t=a.find("[data-banner-gall-prev]"),i=a.find("[data-banner-gall-next]"),e=a.find("[data-banner-gall-pag]"),n=null,o=null;new Swiper(a[0],{nextButton:i,prevButton:t,pagination:e,paginationClickable:!0,autoplay:7e3,autoplayDisableOnInteraction:!1,effect:"fade",loop:!0,onInit:function(){setTimeout(function(){o=a.find(".swiper-pagination-bullet-active").circleProgress({value:1,size:20,thickness:4,startAngle:-Math.PI/2,animation:{duration:7e3,easing:"linear"},emptyFill:"#ffffff",fill:{color:"#b31b2c"}}),n=a.find(".swiper-pagination-bullet-active").circleProgress("widget")},200)},onSlideChangeStart:function(){n&&(a.find(".swiper-pagination-bullet-active").append(n),o.circleProgress("redraw"))},onTouchEnd:function(){n&&(a.find(".swiper-pagination-bullet-active").append(n),o.circleProgress("redraw"))}})},app.info=function(){var a=$("[data-info]"),t=a.find("[data-info-form]"),i=a.find("[data-info-search]"),e=a.find("[data-info-field]"),n=a.find("[data-info-requests]"),o=a.find("[data-info-answer]");app.utils.isMobile&&(o=a.find("[data-info-answer-mob]")),e.on("keyup",function(){var a=$(this).val();a?t.trigger("submit"):n.hide()}),t.on("submit",function(){if(!e.val())return!1;o.hide().removeClass("_active");var a=$(this);return $.post(a.attr("action"),a.serialize(),function(a){n.html(a).slideDown(500)}),!1}),app.dom.$window.on("click.CloseRequests",function(a){$(a.target).closest(i).length||n.fadeOut()}),n.on("click","[data-requests-item]",function(){var a=$(this);e.val(a.text()),$.post(o.data("ajaxUrl"),{},function(a){var t=$(a);t.find("input[type=checkbox], input[type=radio]").idealRadioCheck(),n.hide(),o.html(t).show(),setTimeout(function(){o.addClass("_active")},50)})}),o.on("click","[data-answer-close]",function(){o.fadeOut(300),e.val(""),setTimeout(function(){o.removeClass("_active")},500)})},app.initAnimations=function(){function a(){e=$(document).scrollTop(),n=app.dom.$window.height(),t.each(function(){var a=$(this);i=a.offset().top+.15*n,i-e<=n&&a.addClass("_active")})}var t=$("[data-animation]"),i=null,e=null,n=null,o=_.throttle(a,100);app.dom.$window.scroll(o),a()},app.initMaps=function(){var a=document.createElement("script");a.type="text/javascript",a.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAjgwJYKE3QnRDq8snccgJY499WUZrwTn0&v=3.exp&callback=initialize",document.body.appendChild(a),window.initialize=function(){app.officesMap()}},app.officesMap=function(){function a(a){var t=new google.maps.LatLngBounds,i=null;a.each(function(){var a=$(this),e=a.data("officePoint"),o=new google.maps.LatLng(e.lat,e.lan);t.extend(o);var l=new google.maps.Marker({position:{lat:e.lat,lng:e.lan},map:s,icon:"/static/theme/images/icons/marker.svg",$dom:a});l.addListener("click",function(){i&&i.setIcon("/static/theme/images/icons/marker.svg"),i=this,l.setIcon("/static/theme/images/icons/marker-active.svg"),alert(l.$dom.text())}),n.push(l)}),1==a.length?(s.setCenter(t.getCenter()),s.setZoom(12)):s.setCenter(t.getCenter(),s.fitBounds(t))}var t=$("[data-offices]"),i=t.find("[data-offices-map]")[0],e=t.find("[data-office-point]"),n=(t.find("[data-zoom-plus]"),t.find("[data-zoom-minus]"),[]);if(!t.length)return!1;var o={zoom:11,center:new google.maps.LatLng(55.74822645,37.69954205),mapTypeControl:!1,streetViewControl:!1,zoomControl:!1,overviewMapControl:!1,scrollwheel:!1},s=new google.maps.Map(i,o),l=[{stylers:[{gamma:1},{saturation:-100},{lightness:0}]},{}];s.setOptions({styles:l}),a(e)};